%nav.navbar.navbar-default.navbar-fixed-top
  .container
    .navbar-header
      %button.navbar-toggle.collapsed{type: 'button', data: { target: '#navbar', toggle: 'collapse' }, aria_controls: 'navbar', aria_expanded: 'false'}
        %span.sr-only Toggle navigation
        %span.icon-bar
        %span.icon-bar
        %span.icon-bar
      %a.navbar-brand{href: root_path} ThoughtStream
    #navbar.collapse.navbar-collapse
      %ul.nav.navbar-nav
        - if current_user
          %li
            %a{href: user_path(current_user.handle) } My Stream
        %li
          %a{href: users_path} Users

      %ul.nav.navbar-nav.navbar-right
        - if current_user
          %li.dropdown
            %a.dropdown-toggle{role: 'button', href: '#', data: { toggle: 'dropdown' }, aria_expanded: 'false', aria_haspopup: 'true' }
              = precede '~' do
                = current_user.handle
              %span.caret
            %ul.dropdown-menu
              %li
                %a{href: edit_user_registration_path} My Account
              %li
                = link_to 'Sign Out', destroy_user_session_path, method: :delete
        - else
          %li
            %a{href: new_user_session_path} Sign In
          %li
            %a{href: new_user_registration_path} Register
